concurrent = {{ runner.concurrent }}
check_interval = 0
connection_max_age = "15m0s"
shutdown_timeout = 0

[session_server]
  session_timeout = 1800

[[runners]]
  id = 1
  name = "{{ runner.name }}"
  url = "{{ runner.endpoint }}"
  tls-ca-file = "/etc/gitlab-runner/certs/ca.crt"
  token = "{{ runner.token }}"
  executor = "docker"
  [runners.custom_build_dir]
  [runners.cache]
    MaxUploadedArchiveSize = 0
    [runners.cache.s3]
    [runners.cache.gcs]
    [runners.cache.azure]
  [runners.docker]
    tls_verify = false
    image = "{{ runner.default_image }}"
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/cache","/var/run/docker.sock:/var/run/docker.sock","{{ service_dir }}/certs/ca.crt:/etc/gitlab-runner/certs/ca.crt:ro"]
    shm_size = 0
    network_mtu = 0
    extra_hosts = [{% for host in runner.hosts %}"{{ host }}"{% if not loop.last %}, {% endif %}{% endfor %}]
